<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<!--<meta name="viewport" content="width=device-width, initial-scale=0.384, maximum-scale=0.38, user-scalable=no">-->
		<meta name="viewport" content="" />	
		<title></title>
		<style>
			body{
				margin: 0;
				padding: 0;
			}
			.box{
				width:200px;
				height: 200px;
				background: red;
			}
			
			@media only screen and (min-width: 375px) {
				.box{
					background: pink;
				}
			}
			@media only screen and (min-width: 380px) and (max-width:560px) {
				.box{
					background: yellow;
				}
			}
			@media only screen and (min-width: 600px) and (max-width:900px) {
				.box{
					background: green;
				}
			}
		</style>
	
	</head>
	<body>
		<div class="box" ></div>
		<p id="box"></p>
	</body>
	<script>
		var scale = 1 / window.devicePixelRatio; //获取当前设备像素比
		console.log("当前设备像素比：" + scale);
		//根据计算出来的设备像素比，动态的为meta标签设置content的内容
		document.querySelector('meta[name="viewport"]').setAttribute('content','width=device-width,initial-scale=' + scale + ', maximum-scale=' + scale + ', minimum-scale=' + scale + ', user-scalable=no');
	
		//document.documentElement.clientWidth; //获取设备像素
		var device_width = document.documentElement.clientWidth;
		var device_height = document.documentElement.clientHeight;
		console.log("当前设备像素宽度：" + device_width);
		console.log("当前设备像素高度：" + device_height);
		
		document.getElementById("box").innerHTML = "当前设备像素宽度：" + device_width + "<br />当前设备像素高度：" + device_height;
	</script>
</html>

